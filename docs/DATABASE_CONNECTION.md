# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Integram

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Node.js backend Integram Standalone.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –°–£–ë–î](#–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ-—Å—É–±–¥)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL/MariaDB](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-mysqlmariadb)
4. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
5. [–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã](#—Ä–µ–∂–∏–º—ã-—Ä–∞–±–æ—Ç—ã)
6. [–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö](#–º–∏–≥—Ä–∞—Ü–∏—è-–¥–∞–Ω–Ω—ã—Ö)
7. [Troubleshooting](#troubleshooting)

---

## –û–±–∑–æ—Ä

Node.js backend Integram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MySQL/MariaDB –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å legacy PHP backend. Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–µ–∂–∏–º–µ.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Node.js Backend                          ‚îÇ
‚îÇ                   (index-minimal.js)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  mysql2/promise ‚îÇ
                    ‚îÇ  (Connection    ‚îÇ
                    ‚îÇ     Pool)       ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  MySQL/MariaDB  ‚îÇ
                    ‚îÇ                 ‚îÇ
                    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
                    ‚îÇ  ‚îÇ  my       ‚îÇ  ‚îÇ  ‚Üê –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "my"
                    ‚îÇ  ‚îÇ  (table)  ‚îÇ  ‚îÇ
                    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
                    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
                    ‚îÇ  ‚îÇ  a2025    ‚îÇ  ‚îÇ  ‚Üê –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "a2025"
                    ‚îÇ  ‚îÇ  (table)  ‚îÇ  ‚îÇ
                    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
                    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
                    ‚îÇ  ‚îÇ  company  ‚îÇ  ‚îÇ  ‚Üê –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "company"
                    ‚îÇ  ‚îÇ  (table)  ‚îÇ  ‚îÇ
                    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã (EAV)

–ö–∞–∂–¥–∞—è "–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" Integram –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π —Å Entity-Attribute-Value —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```sql
CREATE TABLE `{database_name}` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `up` INT NOT NULL DEFAULT 0,           -- ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
  `ord` INT NOT NULL DEFAULT 0,          -- –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä
  `t` INT NOT NULL DEFAULT 0,            -- ID —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞
  `val` VARCHAR(10000) DEFAULT NULL,     -- –ó–Ω–∞—á–µ–Ω–∏–µ
  INDEX `idx_up` (`up`),
  INDEX `idx_t` (`t`),
  INDEX `idx_up_t` (`up`, `t`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

---

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –°–£–ë–î

| –°–£–ë–î | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|------|--------|--------|------------|
| MySQL | 8.0+ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| MariaDB | 10.5+ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å MySQL |
| PostgreSQL | 14+ | –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | –ß–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é |

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL/MariaDB

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MySQL

**Ubuntu/Debian:**
```bash
sudo apt update
sudo apt install mysql-server mysql-client
sudo systemctl start mysql
sudo systemctl enable mysql
```

**CentOS/RHEL:**
```bash
sudo yum install mysql-server
sudo systemctl start mysqld
sudo systemctl enable mysqld
```

**macOS (Homebrew):**
```bash
brew install mysql
brew services start mysql
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL
sudo mysql -u root -p
```

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE integram CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER 'integram'@'localhost' IDENTIFIED BY 'your_secure_password';

-- –í—ã–¥–∞—á–∞ –ø—Ä–∞–≤
GRANT ALL PRIVILEGES ON integram.* TO 'integram'@'localhost';
FLUSH PRIVILEGES;

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã "my" (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞)
USE integram;

CREATE TABLE `my` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `up` INT NOT NULL DEFAULT 0,
  `ord` INT NOT NULL DEFAULT 0,
  `t` INT NOT NULL DEFAULT 0,
  `val` VARCHAR(10000) DEFAULT NULL,
  INDEX `idx_up` (`up`),
  INDEX `idx_t` (`t`),
  INDEX `idx_up_t` (`up`, `t`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

\q
```

### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:

```sql
USE integram;

-- –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã (metadata)
INSERT INTO my (id, up, ord, t, val) VALUES
(2, 0, 1, 2, 'HTML'),
(3, 0, 2, 3, 'SHORT'),
(4, 0, 3, 4, 'DATETIME'),
(5, 0, 4, 5, 'GRANT'),
(6, 0, 5, 6, 'PWD'),
(7, 0, 6, 7, 'BUTTON'),
(8, 0, 7, 8, 'CHARS'),
(9, 0, 8, 9, 'DATE'),
(10, 0, 9, 10, 'FILE'),
(11, 0, 10, 11, 'BOOLEAN'),
(12, 0, 11, 12, 'MEMO'),
(13, 0, 12, 13, 'NUMBER'),
(14, 0, 13, 14, 'SIGNED'),
(15, 0, 14, 15, 'CALCULATABLE'),
(16, 0, 15, 16, 'REPORT_COLUMN'),
(17, 0, 16, 17, 'PATH');

-- –¢–∏–ø "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
INSERT INTO my (id, up, ord, t, val) VALUES (18, 0, 17, 8, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');

-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO my (id, up, ord, t, val) VALUES
(20, 18, 1, 6, '–ü–∞—Ä–æ–ª—å'),      -- PASSWORD (—Ç–∏–ø PWD)
(30, 18, 2, 8, '–¢–µ–ª–µ—Ñ–æ–Ω'),     -- PHONE
(33, 18, 3, 8, '–ò–º—è'),         -- NAME
(40, 18, 4, 8, 'XSRF'),        -- XSRF token
(41, 18, 5, 8, 'Email'),       -- EMAIL
(42, 0, 18, 8, '–†–æ–ª—å'),        -- ROLE (–∫–æ—Ä–Ω–µ–≤–æ–π —Ç–∏–ø)
(124, 18, 6, 4, '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å'), -- ACTIVITY (—Ç–∏–ø DATETIME)
(125, 18, 7, 8, '–¢–æ–∫–µ–Ω'),      -- TOKEN
(130, 18, 8, 8, '–°–µ–∫—Ä–µ—Ç');     -- SECRET

-- –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ª–æ–≥–∏–Ω: admin, –ø–∞—Ä–æ–ª—å: admin)
INSERT INTO my (id, up, ord, t, val) VALUES
(1000, 1, 1, 18, 'admin');

-- –ü–∞—Ä–æ–ª—å –¥–ª—è admin (—Ö—ç—à SHA1 —Å —Å–æ–ª—å—é)
-- –§–æ—Ä–º—É–ª–∞: SHA1(SALT + USERNAME_UPPER + DATABASE + PASSWORD)
-- –ü—Ä–∏ SALT='DronedocSalt2025': SHA1('DronedocSalt2025ADMINmyadmin')
INSERT INTO my (id, up, ord, t, val) VALUES
(1001, 1000, 1, 20, '...');  -- –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ö—ç—à
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
mysql -h localhost -u integram -p integram -e "SELECT COUNT(*) FROM my;"
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend/monolith/`:

```env
# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MySQL/MariaDB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
DB_HOST=localhost
DB_PORT=3306
DB_USER=integram
DB_PASSWORD=your_secure_password
DB_CHARSET=utf8mb4

# =============================================================================
# AUTHENTICATION
# =============================================================================

# –°–æ–ª—å –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π (–¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å PHP backend!)
AUTH_SALT=DronedocSalt2025

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ cookie –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (30 –¥–Ω–µ–π)
AUTH_COOKIE_EXPIRE=2592000

# =============================================================================
# SERVER
# =============================================================================

PORT=8081
HOST=0.0.0.0
NODE_ENV=production

# =============================================================================
# CORS
# =============================================================================

CORS_ORIGIN=http://localhost:5173,https://example.integram.io
```

### –í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|----------|----------|--------------|
| `DB_HOST` | –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | –î–∞ |
| `DB_PORT` | –ü–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3306) | –ù–µ—Ç |
| `DB_USER` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î | –î–∞ |
| `DB_PASSWORD` | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î | –î–∞ |
| `AUTH_SALT` | –°–æ–ª—å –¥–ª—è –ø–∞—Ä–æ–ª–µ–π | –î–∞ (–¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å PHP!) |

---

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–µ–∂–∏–º–µ:

### Real Authentication Mode

**–£—Å–ª–æ–≤–∏—è:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.

```
‚úÖ Database connected: localhost
üì¶ Database: Connected to localhost
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –†–µ–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–µ—Å—Å–∏–π
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å PHP backend

### Mock Mode

**–£—Å–ª–æ–≤–∏—è:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∏–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.

```
‚ö†Ô∏è  Database not available: Connection refused
‚ö†Ô∏è  Running in mock mode (no real authentication)
üì¶ Database: Not connected (mock mode)
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock-—Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ë–∞–∑–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ PHP backend

```bash
cd scripts/db-migration

# –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã "my" —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
node export-database.js my --password=secret --settings --format both
```

**–í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `exports/my_2026-02-18.json` ‚Äî JSON —ç–∫—Å–ø–æ—Ä—Ç
- `exports/my_2026-02-18.sql` ‚Äî SQL –¥–∞–º–ø
- `exports/my_2026-02-18_summary.txt` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ò–º–ø–æ—Ä—Ç –≤ –Ω–æ–≤—É—é –±–∞–∑—É

```bash
# –ò–º–ø–æ—Ä—Ç –≤ MySQL
node import-database.js exports/my_2026-02-18.json --target=mysql --create

# –ò–º–ø–æ—Ä—Ç –≤ PostgreSQL (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
node import-database.js exports/my_2026-02-18.json --target=postgres --create
```

### –û–ø—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `--create` | –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| `--drop` | –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º |
| `--dry-run` | –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `--batch-size=N` | –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1000) |

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "Access denied for user"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
mysql -h localhost -u integram -p

# –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (–æ—Ç root)
ALTER USER 'integram'@'localhost' IDENTIFIED BY 'new_password';
FLUSH PRIVILEGES;
```

### –û—à–∏–±–∫–∞: "Database does not exist"

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```sql
CREATE DATABASE integram CHARACTER SET utf8mb4;
```

### –û—à–∏–±–∫–∞: "Table doesn't exist"

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```sql
CREATE TABLE `my` (
  `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `up` INT NOT NULL DEFAULT 0,
  `ord` INT NOT NULL DEFAULT 0,
  `t` INT NOT NULL DEFAULT 0,
  `val` VARCHAR(10000) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

### –û—à–∏–±–∫–∞: "Connection refused"

**–ü—Ä–∏—á–∏–Ω–∞:** MySQL –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status mysql

# –ó–∞–ø—É—Å–∫ MySQL
sudo systemctl start mysql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
netstat -tlnp | grep 3306
```

### –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–æ–ª–∏ (AUTH_SALT) –º–µ–∂–¥—É PHP –∏ Node.js.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ SALT –≤ PHP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`connection.php` –∏–ª–∏ `config.php`)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–∫–æ–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `.env`:
   ```env
   AUTH_SALT=YourExactSaltFromPHP
   ```

### –ü–∞—Ä–æ–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ê–ª–≥–æ—Ä–∏—Ç–º —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// Node.js
const crypto = require('crypto');
const salt = 'DronedocSalt2025';
const username = 'ADMIN'; // uppercase
const database = 'my';
const password = 'admin';

const hash = crypto
  .createHash('sha1')
  .update(salt + username + database + password)
  .digest('hex');

console.log(hash);
```

```php
// PHP
$salt = 'DronedocSalt2025';
$username = strtoupper('admin');
$database = 'my';
$password = 'admin';

echo sha1($salt . $username . $database . $password);
```

–û–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### Health Check

```bash
curl http://localhost:8081/health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "database": "connected",
  "timestamp": "2026-02-18T12:00:00Z"
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë       Integram Standalone Backend - With DB Authentication     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

‚úÖ Server running on http://0.0.0.0:8081
‚úÖ WebSocket endpoint: ws://0.0.0.0:8081/ws
‚úÖ Health check: http://0.0.0.0:8081/health
üì¶ Database: Connected to localhost

üìö Integram API routes (PHP-compatible):
   POST /api/:db/auth       - User authentication (REAL)
   GET  /api/:db/validate   - Token validation
   ...
```

---

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2026-02-18
**Issue:** [#121](https://github.com/unidel2035/integram-standalone/issues/121)
